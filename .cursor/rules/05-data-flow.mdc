---
description:
globs:
alwaysApply: false
---
# 数据流程

## RAG系统流程

1. **用户请求流程**：
   - 用户通过前端或API发送聊天请求
   - 请求经过认证模块验证身份
   - 聊天模块接收请求并处理

2. **RAG处理流程**：
   - 聊天模块分析用户问题
   - 向知识库模块发送检索请求
   - 知识库模块返回相关文档片段
   - 聊天模块将检索结果与用户问题结合生成回答

3. **知识库管理流程**：
   - 知识库模块管理文档的导入和索引
   - 处理文档的存储和检索
   - 维护向量表示和索引

## 模块间通信

模块间通信主要通过HTTP API进行，各模块暴露其服务接口：

- 认证模块 → 提供认证和授权服务
- 知识库模块 → 提供文档管理和检索服务
- 聊天模块 → 提供对话和RAG处理服务

## 数据存储

项目可能使用多种数据存储：

- 关系型数据库：存储用户信息、文档元数据等
- 向量数据库：存储文档的向量表示，用于相似性检索
- 文件存储：存储原始文档
